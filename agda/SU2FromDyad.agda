{-# OPTIONS --safe --without-K #-}

-- ═══════════════════════════════════════════════════════════════════════════
-- SU(2) ИЗ ДИАДЫ
-- ═══════════════════════════════════════════════════════════════════════════
--
-- Триада → S₃ → SU(3)  [доказано]
-- Диада  → S₂ → SU(2)  [выводим]
-- Монада → S₁ → U(1)   [тривиально]
--
-- ═══════════════════════════════════════════════════════════════════════════

module SU2FromDyad where

open import DD-Core

-- Dyad, S₂, X, Y, id₂, swap уже определены в DD-Core

-- ═══════════════════════════════════════════════════════════════════════════
-- ДЕЙСТВИЕ S₂ НА ДИАДУ
-- ═══════════════════════════════════════════════════════════════════════════

act₂ : S₂ → Dyad → Dyad
act₂ id₂  d = d
act₂ swap X = Y
act₂ swap Y = X

-- ═══════════════════════════════════════════════════════════════════════════
-- ТЕОРЕМА 1: id₂ — единица
-- ═══════════════════════════════════════════════════════════════════════════

theorem-id₂-identity : (d : Dyad) → act₂ id₂ d ≡ d
theorem-id₂-identity X = refl
theorem-id₂-identity Y = refl

-- ═══════════════════════════════════════════════════════════════════════════
-- ТЕОРЕМА 2: swap² = id₂ (инволюция)
-- ═══════════════════════════════════════════════════════════════════════════

-- Композиция в S₂
_∘₂_ : S₂ → S₂ → S₂
id₂  ∘₂ g    = g
swap ∘₂ id₂  = swap
swap ∘₂ swap = id₂

theorem-swap-involution : swap ∘₂ swap ≡ id₂
theorem-swap-involution = refl

-- ═══════════════════════════════════════════════════════════════════════════
-- ТЕОРЕМА 3: |S₂| = 2
-- ═══════════════════════════════════════════════════════════════════════════

all-S₂ : List S₂
all-S₂ = id₂ ∷ swap ∷ []

theorem-S₂-has-2-elements : length all-S₂ ≡ 2
theorem-S₂-has-2-elements = refl

-- ═══════════════════════════════════════════════════════════════════════════
-- Z₂ И ИЗОМОРФИЗМ С S₂
-- ═══════════════════════════════════════════════════════════════════════════

data Z₂ : Set where
  z+ : Z₂
  z- : Z₂

s₂-to-z₂ : S₂ → Z₂
s₂-to-z₂ id₂  = z+
s₂-to-z₂ swap = z-

z₂-to-s₂ : Z₂ → S₂
z₂-to-s₂ z+ = id₂
z₂-to-s₂ z- = swap

theorem-iso-1 : (s : S₂) → z₂-to-s₂ (s₂-to-z₂ s) ≡ s
theorem-iso-1 id₂  = refl
theorem-iso-1 swap = refl

theorem-iso-2 : (z : Z₂) → s₂-to-z₂ (z₂-to-s₂ z) ≡ z
theorem-iso-2 z+ = refl
theorem-iso-2 z- = refl


-- ═══════════════════════════════════════════════════════════════════════════
-- ПОЧЕМУ S₂ → SU(2)?
-- ═══════════════════════════════════════════════════════════════════════════
--
-- АРГУМЕНТ 1: Квантовая суперпозиция
--
--   Диада = два базисных состояния |X⟩, |Y⟩
--   Общее состояние: α|X⟩ + β|Y⟩  где α,β ∈ ℂ
--   Нормировка: |α|² + |β|² = 1
--   Это 3-сфера S³ ⊂ ℂ²
--
--   Преобразования:
--   - Унитарные (сохраняют норму): U(2)
--   - С det = 1 (без аномалий): SU(2)
--
-- АРГУМЕНТ 2: Минимальность
--
--   S₂ = Z₂ = {id, swap}
--   Z₂ вкладывается в SU(2) как центр: {I, -I}
--   SU(2) — минимальная связная группа Ли с этим свойством
--
-- АРГУМЕНТ 3: Спин 1/2
--
--   SU(2) — группа вращений спинора
--   Поворот на 360° = -I (не тождество!)
--   Поворот на 720° = I
--   Это Z₂ структура внутри SU(2)
--
-- ═══════════════════════════════════════════════════════════════════════════

-- ═══════════════════════════════════════════════════════════════════════════
-- U(1) ИЗ МОНАДЫ
-- ═══════════════════════════════════════════════════════════════════════════

-- Монада = одно различённое от пустоты: A ≠ ∅
data Monad₁ : Set where
  A₁ : Monad₁

-- Дискретная симметрия тривиальна
data S₁ : Set where
  id₁ : S₁

all-S₁ : List S₁
all-S₁ = id₁ ∷ []

theorem-S₁-has-1-element : length all-S₁ ≡ 1
theorem-S₁-has-1-element = refl

-- ═══════════════════════════════════════════════════════════════════════════
-- ПОЧЕМУ S₁ → U(1)?
-- ═══════════════════════════════════════════════════════════════════════════
--
-- Дискретно S₁ = {id} тривиальна.
-- Но непрерывно: A как комплексное число z ∈ ℂ
--
-- Преобразования сохраняющие |z|²:
--   z → e^(iθ) · z
--
-- Это U(1) — группа фазовых вращений.
--
-- Физика:
--   U(1) = электромагнитная калибровочная группа
--   Заряд = генератор U(1)
--   Фотон = калибровочный бозон U(1)
--
-- ═══════════════════════════════════════════════════════════════════════════

-- ═══════════════════════════════════════════════════════════════════════════
-- ИЕРАРХИЯ РАЗЛИЧЕНИЙ = СТАНДАРТНАЯ МОДЕЛЬ
-- ═══════════════════════════════════════════════════════════════════════════
--
--   Уровень 1: Монада (A ≠ ∅)     → S₁ → U(1)  → электромагнетизм
--   Уровень 2: Диада  (A ≠ B)     → S₂ → SU(2) → слабое взаимодействие  
--   Уровень 3: Триада (A ≠ B ≠ C) → S₃ → SU(3) → сильное взаимодействие
--
--   Полная группа: SU(3) × SU(2) × U(1)
--
-- Это НЕ постулат — это СЛЕДСТВИЕ иерархии различений!
--
-- ═══════════════════════════════════════════════════════════════════════════
